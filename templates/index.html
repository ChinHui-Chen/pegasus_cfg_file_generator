<!DOCTYPE html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap Material CSS -->
        <link rel="stylesheet" href="https://unpkg.com/bootstrap-material-design@4.1.1/dist/css/bootstrap-material-design.min.css" integrity="sha384-wXznGJNEXNG1NFsbm0ugrLFMQPWswR3lds2VeinahP8N0zJw9VWSopbjv2x7WCvX" crossorigin="anonymous">

        <!-- Material Icon -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

        <!-- Custom Stylesheets -->
        <link rel="stylesheet" type="text/css" href="../static/css/config_file.css">

        <!-- Awesome font -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

        <!-- Animation CSS -->
        <link href="https://cdn.jsdelivr.net/npm/animate.css@3.5.1" rel="stylesheet" type="text/css">

        <title>Config file generator</title>
    </head>

    <body class="config_container">
    <div id="vue-dashboard">

        <h2>Pegasus Configuration file generator</h2>

        <div class="row">
            <div class="col-lg-3">
                <div class="row">
                    <div class="col">
                        File name
                    </div>

                    <div class="col">
                        <input type="text" name="config_file_name" class="form-control" v-model="all_outputs.file_name" value="default">
                    </div>
                </div>

                <!--
                <div class="row">
                    <div class="col">
                        SetDataDirectory
                    </div>
                </div>
                -->
                <div class="row">
                    <div class="col">
                        Ver. 2.1
                    </div>
               </div>
            </div>
        </div>

        <div class="row config_container">
            <div class="col">
                <h3>
                    Default Parameters
                </h3>
            </div>
        </div>

        <div class="row config_container">
            <div class="col config_container">
                <h4> Micro </h4>

                <!-- Default Micro parameters -->
                <div class="row">
                    <div class="col">
                        CreateCscAcqEnt:
                    </div>
                    <div class="col">
                        <input type="text" name="s_CreateCscAcqEnt" class="form-control" v-model="all_outputs.micros.s_CreateCscAcqEnt">
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetAcqEntProcessingEnabled:
                    </div>
                    <div class="col">
                        <input type="text" name="s_SetAcqEntProcessingEnabled" class="form-control" v-model="all_outputs.micros.s_SetAcqEntProcessingEnabled">
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetChannelNumber:
                    </div>
                    <div class="col">
                        <input type="text" name="s_SetChannelNumber" class="form-control" v-model="all_outputs.micros.s_SetChannelNumber">
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetAcqEntReference:
                    </div>
                    <div class="col">
                        <input type="text" name="s_SetAcqEntReference" class="form-control" v-model="all_outputs.micros.s_SetAcqEntReference">
                    </div>
                </div>


                <div class="row">
                    <div class="col">
                        SetInputRange:
                    </div>
                    <div class="col">
                        <input type="text" name="s_SetInputRange" class="form-control" v-model="all_outputs.micros.s_SetInputRange" >

                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetDspLowCutFilterEnabled:
                    </div>
                    <div class="col">
                        <input type="text" name="s_SetDspLowCutFilterEnabled" class="form-control" v-model="all_outputs.micros.s_SetDspLowCutFilterEnabled" >
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetDspLowCutFrequency:
                    </div>
                    <div class="col">
                        <input type="text" name="s_SetDspLowCutFrequency" class="form-control" v-model="all_outputs.micros.s_SetDspLowCutFrequency" >
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetDspLowCutNumberTaps:
                    </div>
                    <div class="col">
                        <input type="text" name="s_SetDspLowCutNumberTaps" class="form-control" v-model="all_outputs.micros.s_SetDspLowCutNumberTaps" >
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetDspHighCutFilterEnabled:
                    </div>
                    <div class="col">
                        <input type="text" name="s_SetDspHighCutFilterEnabled" class="form-control" v-model="all_outputs.micros.s_SetDspHighCutFilterEnabled" >
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetDspHighCutFrequency:
                    </div>
                    <div class="col">
                        <input type="text" name="s_SetDspHighCutFrequency" class="form-control" v-model="all_outputs.micros.s_SetDspHighCutFrequency">
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetDspHighCutNumberTaps:
                    </div>
                    <div class="col">
                        <input type="text" name="s_SetDspHighCutNumberTaps" class="form-control" v-model="all_outputs.micros.s_SetDspHighCutNumberTaps" >
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetSubSamplingInterleave:
                    </div>
                    <div class="col">
                        <input type="text" name="s_SetSubSamplingInterleave" class="form-control" v-model="all_outputs.micros.s_SetSubSamplingInterleave" >
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetInputInverted:
                    </div>
                    <div class="col">
                        <input type="text" name="s_SetInputInverted" class="form-control" v-model="all_outputs.micros.s_SetInputInverted" >
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetNetComDataBufferingEnabled:
                    </div>
                    <div class="col">
                        <input type="text" name="s_SetNetComDataBufferingEnabled" class="form-control" v-model="all_outputs.micros.s_SetNetComDataBufferingEnabled" >
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetNetComDataBufferSize:
                    </div>
                    <div class="col">
                        <input type="text" name="s_SetNetComDataBufferSize" class="form-control" v-model="all_outputs.micros.s_SetNetComDataBufferSize" >
                    </div>
                </div>

                <br/>

                <div class="row">
                    <div class="col">
                        <div class="row">
                            <h5> Add Channels: </h5>
                        </div>

                        <div class="row">
                            <div class="col">
                                Channel start name:
                            </div>
                            <div class="col">
                                <input type="text" name="channel_name" class="form-control" v-model="micro_channel_name">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col">
                                Number of channels:
                            </div>
                            <div class="col">
                                <input type="text" name="s_SetNetComDataBufferSize" class="form-control" v-model="micro_n_channels">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-4">
                                <button v-on:click="add_micro_channel()">Add Channel</button>
                            </div>

                            <div class="col">
                                <button v-on:click="undo_micro_channel()">Undo</button>
                            </div>
                        </div>

                    </div>
                </div>

            </div>

            <div class="col config_container" style="overflow-y: scroll; height: 40rem; overflow-x: visible">
                <h4> Output </h4>
                The config file will be generated using the following json data. You can edit it manually in the textarea or use "Add Channel/Undo." 
                <br />
                E.g. {"AHipp-1Ld1":"16","MHipp-3Ld1":"6"} AHipp-1Ld x 16 channels and MHipp-3Ld1 x 6 channels will be generated. Both Macro and Micro Channels will be generated.
                <br />
                <br />
                Macro Channels
                <br />
                <textarea rows=8 cols=40 v-model="all_outputs.macro_channels_added_json_string"></textarea>
                <pre>{{ all_outputs.macro_channels_added_json_string | pretty }}</pre>

                <br />
                Micro Channels
                <br />
                <textarea rows=8 cols=40 v-model="all_outputs.micro_channels_added_json_string"></textarea>
                <pre>{{ all_outputs.micro_channels_added_json_string | pretty }}</pre>

                <br />
                Here are some preload configs. If you need more, please let me know.
                <br />
                <button v-on:click="load_car_30()">Load CAR30 Channels</button>



            </div>

            <div class="col config_container">
                <h4> Macros </h4>

                <!-- Default Macros parameters -->
                <div class="row">
                    <div class="col">
                        CreateCscAcqEnt:
                    </div>
                    <div class="col">
                        <input type="text" name="CreateCscAcqEnt" class="form-control" v-model="all_outputs.macros.CreateCscAcqEnt">
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetAcqEntProcessingEnabled:
                    </div>
                    <div class="col">
                        <input type="text" name="SetAcqEntProcessingEnabled" class="form-control" v-model="all_outputs.macros.SetAcqEntProcessingEnabled">
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetChannelNumber:
                    </div>
                    <div class="col">
                        <input type="text" name="SetChannelNumber" class="form-control" v-model="all_outputs.macros.SetChannelNumber" >
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetAcqEntReference:
                    </div>
                    <div class="col">
                        <input type="text" name="SetAcqEntReference" class="form-control" v-model="all_outputs.macros.SetAcqEntReference" >
                    </div>
                </div>


                <div class="row">
                    <div class="col">
                        SetInputRange:
                    </div>
                    <div class="col">
                        <input type="text" name="SetInputRange" class="form-control" v-model="all_outputs.macros.SetInputRange">

                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetDspLowCutFilterEnabled:
                    </div>
                    <div class="col">
                        <input type="text" name="SetDspLowCutFilterEnabled" class="form-control" v-model="all_outputs.macros.SetDspLowCutFilterEnabled" >
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetDspLowCutFrequency:
                    </div>
                    <div class="col">
                        <input type="text" name="SetDspLowCutFrequency" class="form-control" v-model="all_outputs.macros.SetDspLowCutFrequency" >
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetDspLowCutNumberTaps:
                    </div>
                    <div class="col">
                        <input type="text" name="SetDspLowCutNumberTaps" class="form-control" v-model="all_outputs.macros.SetDspLowCutNumberTaps" >
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetDspHighCutFilterEnabled:
                    </div>
                    <div class="col">
                        <input type="text" name="SetDspHighCutFilterEnabled" class="form-control" v-model="all_outputs.macros.SetDspHighCutFilterEnabled" >
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetDspHighCutFrequency:
                    </div>
                    <div class="col">
                        <input type="text" name="SetDspHighCutFrequency" class="form-control" v-model="all_outputs.macros.SetDspHighCutFrequency" >
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetDspHighCutNumberTaps:
                    </div>
                    <div class="col">
                        <input type="text" name="SetDspHighCutNumberTaps" class="form-control" v-model="all_outputs.macros.SetDspHighCutNumberTaps" >
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetSubSamplingInterleave:
                    </div>
                    <div class="col">
                        <input type="text" name="SetSubSamplingInterleave" class="form-control" v-model="all_outputs.macros.SetSubSamplingInterleave" >
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetInputInverted:
                    </div>
                    <div class="col">
                        <input type="text" name="SetInputInverted" class="form-control" v-model="all_outputs.macros.SetInputInverted" >
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetNetComDataBufferingEnabled:
                    </div>
                    <div class="col">
                        <input type="text" name="SetNetComDataBufferingEnabled" class="form-control" v-model="all_outputs.macros.SetNetComDataBufferingEnabled" >
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        SetNetComDataBufferSize:
                    </div>
                    <div class="col">
                        <input type="text" name="SetNetComDataBufferSize" class="form-control" v-model="all_outputs.macros.SetNetComDataBufferSize" >
                    </div>
                </div>

                <br/>

                <div class="row">
                    <div class="col">
                        <div class="row">
                            <h5> Add Channels: </h5>
                        </div>

                        <div class="row">
                            <div class="col">
                                Channel start name:
                            </div>
                            <div class="col">
                                <input type="text" name="channel_name" class="form-control" v-model="macro_channel_name" >
                            </div>
                        </div>

                        <div class="row">
                            <div class="col">
                                Number of channels:
                            </div>
                            <div class="col">
                                <input type="text" name="s_SetNetComDataBufferSize" class="form-control" v-model="macro_n_channels" >
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-4">
                                <button v-on:click="add_macro_channel()">Add Channel</button>
                            </div>

                            <div class="col">
                                <button v-on:click="undo_macro_channel()">Undo</button>
                            </div>
                        </div>
                        <br />
                        <div class="row">
                            <div class="col-lg-4">
                                <button v-on:click="add_ekg()">Add EKG, EOG ... R10 </button>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>

        <div class="row config_container">
            <button v-on:click="download_config_file()"> Download </button>
        </div>
        <div>
            <button v-on:click="count_total()">Count Channels</button>
             Macro: {{ all_outputs.macro_total }} Micro: {{ all_outputs.micro_total }} Total: {{ all_outputs.all_total }}
        </div>

    </div>
    <!-- End of dashboard -->

    <div>
        <center>source code: https://github.com/ChinHui-Chen/pegasus_cfg_file_generator</center>
        <center>contact: chinhui@vt.edu</center>
        <center>Neural Dynamics and Neural Engineering Lab, Virginia Tech</center>
    </div>

    <br/>

    <!-- Libraries -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/popper.js@1.12.6/dist/umd/popper.js" integrity="sha384-fA23ZRQ3G/J53mElWqVJEGJzU0sTs+SvzG8fXVWP+kJQ1lwFAOkcUOysnlKJC33U" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/bootstrap-material-design@4.1.1/dist/js/bootstrap-material-design.js" integrity="sha384-CauSuKpEqAFajSpkdjv3z9t8E7RlpJ1UP0lKM/+NdtSarroVKu069AlsRPKkFBz9" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/vue"></script>

    <!-- My code -->
    <script> {% include 'js/config_files.js' %} </script>


    </body>
</html>
